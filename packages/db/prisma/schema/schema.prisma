generator client {
  provider = "prisma-client"
  output   = "../node_modules/@prisma/client"
  moduleFormat = "esm"
}

datasource db {
  provider = "postgresql"
}

model Personality {
  id          Int     @id @default(autoincrement())
  casualness  Int
  verbosity   Int
  updatedAt   DateTime @updatedAt
}

model Knowledge {
  id            Int      @id @default(autoincrement())
  customBaseOn  Boolean  @default(false)
  websitesOn    Boolean  @default(false)
  customContext String   @default("")
  websiteLink   String   @default("")
  updatedAt     DateTime @updatedAt
}

model User {
  id          Int       @id @default(autoincrement())
  phoneNumber String     @unique
  name        String?    
  messages    Message[]
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model Message {
  id        Int      @id @default(autoincrement())
  user      User     @relation(fields: [userId], references: [id])
  userId    Int
  role      String   
  content   String
  createdAt DateTime @default(now())
}